<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vocabulary Trainer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google Fonts and Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Fira+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Layered Animated Background -->
  <div class="bg-blobs">
    <div class="blob blob1"></div>
    <div class="blob blob2"></div>
    <div class="blob blob3"></div>
    <svg class="sparkle-layer" width="100%" height="100%">
      <circle class="sparkle" cx="80" cy="200" r="2"/>
      <circle class="sparkle" cx="250" cy="110" r="1.8"/>
      <circle class="sparkle" cx="200" cy="490" r="2.5"/>
      <circle class="sparkle" cx="420" cy="350" r="1.5"/>
      <circle class="sparkle" cx="60" cy="410" r="1.2"/>
      <circle class="sparkle" cx="320" cy="170" r="1.3"/>
      <circle class="sparkle" cx="120" cy="370" r="1.7"/>
      <circle class="sparkle" cx="400" cy="90" r="2.1"/>
    </svg>
    <div class="bg-gradient-overlay"></div>
  </div>

  <div class="container glassy-pop animate-in">
    <!-- HEADER WITH FLOATING LOGO -->
    <header class="main-header glassy-tile animate-float">
      <div class="logo-area">
        <span class="logo-icon emoji-bounce">📖</span>
        <span class="logo-text">VOCABULARY TRAINER</span>
      </div>
      <div class="header-slogan">Learn. Play. Master. <span class="emoji-bounce">✨</span></div>
    </header>

    <!-- Main dashboard home card -->
    <section id="home-section" class="screen home-section active">
      <div class="home-flex">
        <nav class="menu-glass animate-in-delay">
          <button class="btn menu-btn btn-accent animate-float" onclick="showScreen('quiz-screen')">
            <span class="icon">🎲</span> Start Quiz
          </button>
          <button class="btn menu-btn btn-secondary animate-float-delay" onclick="showScreen('add-word-menu')">
            <span class="icon">➕</span> Add New Word
          </button>
          <button class="btn menu-btn animate-float-delay2" onclick="showScreen('upload-bulk-menu')">
            <span class="icon">📤</span> Bulk Upload
          </button>
          <button class="btn menu-btn animate-float-delay3" onclick="showScreen('practice-hard-menu')">
            <span class="icon">🔥</span> Practice Hard Words
          </button>
          <button class="btn menu-btn animate-float-delay4" onclick="showScreen('practice-custom-menu')">
            <span class="icon">📝</span> Practice Custom Words
          </button>
          <button class="btn menu-btn btn-secondary animate-float" onclick="showStatsScreen()">
            <span class="icon">📊</span> View Stats
          </button>
          <button class="btn menu-btn btn-secondary animate-float" onclick="window.logout()">
            <span class="icon">🚪</span> Logout
          </button>
        </nav>
        <aside class="dash-side">
          <div class="stat-tile glassy-tile animate-fadein">
            <div class="stat-title">Words in vocabulary</div>
            <div class="stat-value" id="vocab-count">0</div>
          </div>
          <div class="stat-tile glassy-tile animate-fadein-delay">
            <div class="stat-title">Hard words</div>
            <div class="stat-value" id="hard-count">0</div>
          </div>
          <div class="stat-tile glassy-tile streak-tile animate-fadein-delay2" id="streak-bar"></div>
        </aside>
      </div>
      <footer class="footer glassy-tile animate-in">
        Made by Lars for students! <span class="emoji-bounce">📚</span>
        <span class="footer-right">
          <a href="https://github.com/LD-beepbeep/French-Words-2.0" target="_blank" class="footer-link">GitHub</a>
        </span>
      </footer>
    </section>

    <!-- LOGIN SCREEN -->
    <section id="login-screen" class="screen">
      <div class="login-card glassy-tile animate-in">
        <div class="login-logo"><span class="emoji-bounce">🔒</span></div>
        <h2 id="login-header">VOC Trainer</h2>
        <div id="login-sub">Please log in!</div>
        <form onsubmit="window.tryLogin();return false;">
          <label for="login-username">Username</label>
          <input type="text" id="login-username" autocomplete="username" placeholder="Enter username">
          <label for="login-password">Password</label>
          <input type="password" id="login-password" autocomplete="current-password" placeholder="Enter password">
          <button class="btn btn-accent" type="submit">Login</button>
          <div id="login-error"></div>
        </form>
      </div>
    </section>

    <!-- LANGUAGE SELECTOR -->
    <section id="language-selector" style="display:none">
      <label for="lang-choice">Quiz Language: </label>
      <select id="lang-choice" class="glassy-select"></select>
      <button class="btn btn-small animate-bounce" id="add-lang-btn" title="Add language pair">＋</button>
      <button class="btn btn-small" id="remove-lang-btn" title="Remove current language pair">🗑</button>
    </section>

    <!-- QUIZ SCREEN -->
    <section id="quiz-screen" class="screen">
      <button class="btn btn-secondary back-btn animate-bounce" onclick="showScreen('home-section')">← Back</button>
      <h2 class="centered-title">Quiz</h2>
      <div class="quiz-anim-card glassy-tile animate-float">
        <span id="quiz-direction-label" class="quiz-direction"></span>
        <br>
        <span id="question-direction" style="font-weight:600; color:var(--primary);"></span>
        <span id="question-text" style="font-weight:500;"></span>
      </div>
      <div class="inputs-row">
        <input type="text" id="answer-input" autocomplete="off" placeholder="Your answer">
        <button class="btn animate-pulse" id="quiz-submit-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div id="feedback" class="feedback"></div>
      <div class="quiz-stats">
        <p>Score: <span id="current-score"></span> (<span id="score-percentage"></span>)</p>
        <p>Question #: <span id="question-number"></span></p>
      </div>
    </section>

    <!-- BULK UPLOAD SCREEN -->
    <section id="upload-bulk-menu" class="screen">
      <button class="btn btn-secondary back-btn animate-bounce" onclick="showScreen('home-section')">← Back</button>
      <h2 class="centered-title">Bulk Upload Words</h2>
      <div class="bulk-form">
        <input type="file" id="bulk-upload-file" accept=".txt,.csv">
        <select id="bulk-from-lang" class="glassy-select"></select>
        <span class="arrow">→</span>
        <select id="bulk-to-lang" class="glassy-select"></select>
        <button class="btn btn-accent animate-bounce" id="bulk-upload-btn">Upload &amp; Preview</button>
      </div>
      <div id="bulk-upload-preview"></div>
      <div id="bulk-edit-list" style="margin-top:1em;"></div>
    </section>

    <!-- PRACTICE HARD WORDS SCREEN -->
    <section id="practice-hard-menu" class="screen">
      <button class="btn btn-secondary back-btn animate-bounce" onclick="showScreen('home-section')">← Back</button>
      <h2 class="centered-title">Practice Hard Words</h2>
      <div style="text-align:center; margin-bottom:1.2em;">
        <button class="btn btn-accent animate-pulse" onclick="practiceHardWords()">Start Practicing</button>
      </div>
      <div>
        <h3>Recently Added Words</h3>
        <div id="recent-list-hard"></div>
        <h3>Hard Words List</h3>
        <input type="text" id="search-hard" placeholder="Search...">
        <div id="hard-words-list"></div>
        <button id="clear-hard-btn" class="btn btn-secondary" onclick="clearHardWords()" style="display:none;">Clear Hard Words</button>
      </div>
    </section>

    <!-- PRACTICE CUSTOM WORDS SCREEN -->
    <section id="practice-custom-menu" class="screen">
      <button class="btn btn-secondary back-btn animate-bounce" onclick="showScreen('home-section')">← Back</button>
      <h2 class="centered-title">Practice Custom Words</h2>
      <div style="text-align:center; margin-bottom:1.2em;">
        <button class="btn btn-accent animate-pulse" onclick="practiceCustomWords()">Start Custom Practice</button>
      </div>
    </section>

    <!-- ADD WORD MENU -->
    <section id="add-word-menu" class="screen">
      <button class="btn btn-secondary back-btn animate-bounce" onclick="showScreen('home-section')">← Back</button>
      <h2 class="centered-title">Add Custom Word</h2>
      <div class="inputs-row">
        <input type="text" id="custom-from-word" placeholder="Word in source language">
        <input type="text" id="custom-to-word" placeholder="Word in target language">
        <button class="btn btn-accent animate-bounce" onclick="addNewWord()">Add</button>
      </div>
      <div>
        <h3>Recently Added Words</h3>
        <input type="text" id="search-custom" placeholder="Search...">
        <div id="recent-list"></div>
      </div>
    </section>

    <!-- STATS SCREEN -->
    <section id="stats-screen" class="screen">
      <button class="btn btn-secondary back-btn animate-bounce" onclick="showScreen('home-section')">← Back</button>
      <h2 class="centered-title">Stats</h2>
      <table class="stats-table">
        <tr>
          <th>Type</th>
          <th>Correct</th>
          <th>Total</th>
          <th>Accuracy</th>
        </tr>
        <tr>
          <td>Total</td>
          <td id="correct-answers"></td>
          <td id="total-questions"></td>
          <td id="accuracy"></td>
        </tr>
      </table>
    </section>

    <!-- MODAL -->
    <div id="hard-words-modal" class="modal" tabindex="-1">
      <div class="modal-content glassy-tile animate-float">
        <h3>Add to Hard Words?</h3>
        <p>This word will be added to your hard words list for extra practice. Continue?</p>
        <button onclick="addToHardWords(true)" class="btn btn-accent animate-bounce">Add</button>
        <button onclick="addToHardWords(false)" class="btn btn-secondary">Skip</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
